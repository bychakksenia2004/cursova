{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/magistrature/Dockerwork/kursova/app/tests/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function PublicTestsPage() {\r\n  const [tests, setTests] = useState<Array<{ _id: string; title: string; description?: string | null; author?: string | null }>>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/public-tests\", { cache: \"no-store\" });\r\n        if (!res.ok) {\r\n          console.warn(\"Failed to load public tests\", await res.text());\r\n          return;\r\n        }\r\n        const data = await res.json();\r\n        if (mounted && data?.ok && Array.isArray(data.tests)) setTests(data.tests);\r\n      } catch (err) {\r\n        console.warn(\"Failed to load public tests:\", err);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { mounted = false; };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try { document.title = \"TestHub | Публічні тести\"; } catch {}\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container d-flex flex-column align-items-center justify-content-center min-vh-100\">\r\n      <h2 className=\"mb-4 text-center\">Публічні тести</h2>\r\n      <div className=\"menu-box d-flex flex-column gap-2\">\r\n        {loading ? (\r\n          <div className=\"text-muted\">Завантаження...</div>\r\n        ) : tests.length === 0 ? (\r\n          <div className=\"text-muted\">Публічних тестів не знайдено.</div>\r\n        ) : (\r\n          <div className=\"list-group transparent-list\">\r\n            {tests.map((t) => (\r\n              <div key={t._id} className=\"list-group-item d-flex justify-content-between align-items-start\">\r\n                <div>\r\n                  <div className=\"fw-semibold\">{t.title}</div>\r\n                  {t.description ? <div className=\"text-muted small\">{t.description}</div> : null}\r\n                  <div className=\"text-muted small mt-1\">Автор: {t.author || \"(невідомо)\"}</div>\r\n                </div>\r\n                <div>\r\n                  <Link href={`/tests/${t._id}`}>\r\n                    <button className=\"btn btn-sm btn-outline-primary\">Відкрити</button>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAA6F,EAAE;IACjI,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;QACd,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,qBAAqB;oBAAE,OAAO;gBAAW;gBACjE,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,QAAQ,IAAI,CAAC,+BAA+B,MAAM,IAAI,IAAI;oBAC1D;gBACF;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,WAAW,MAAM,MAAM,MAAM,OAAO,CAAC,KAAK,KAAK,GAAG,SAAS,KAAK,KAAK;YAC3E,EAAE,OAAO,KAAK;gBACZ,QAAQ,IAAI,CAAC,gCAAgC;YAC/C,SAAU;gBACR,IAAI,SAAS,WAAW;YAC1B;QACF;QACA;QACA,OAAO;YAAQ,UAAU;QAAO;IAClC,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI;YAAE,SAAS,KAAK,GAAG;QAA4B,EAAE,OAAM,CAAC;IAC9D,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAmB;;;;;;0BACjC,8OAAC;gBAAI,WAAU;0BACZ,wBACC,8OAAC;oBAAI,WAAU;8BAAa;;;;;2BAC1B,MAAM,MAAM,KAAK,kBACnB,8OAAC;oBAAI,WAAU;8BAAa;;;;;yCAE5B,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;4BAAgB,WAAU;;8CACzB,8OAAC;;sDACC,8OAAC;4CAAI,WAAU;sDAAe,EAAE,KAAK;;;;;;wCACpC,EAAE,WAAW,iBAAG,8OAAC;4CAAI,WAAU;sDAAoB,EAAE,WAAW;;;;;mDAAU;sDAC3E,8OAAC;4CAAI,WAAU;;gDAAwB;gDAAQ,EAAE,MAAM,IAAI;;;;;;;;;;;;;8CAE7D,8OAAC;8CACC,cAAA,8OAAC,uKAAI;wCAAC,MAAM,CAAC,OAAO,EAAE,EAAE,GAAG,EAAE;kDAC3B,cAAA,8OAAC;4CAAO,WAAU;sDAAiC;;;;;;;;;;;;;;;;;2BAR/C,EAAE,GAAG;;;;;;;;;;;;;;;;;;;;;AAkB7B"}}]
}