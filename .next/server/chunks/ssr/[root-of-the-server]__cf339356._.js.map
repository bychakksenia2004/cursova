{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/components/TopLeftHome.tsx","../../../../app/components/TopRightUser.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\n\r\nexport default function TopLeftHome() {\r\n  const pathname = usePathname();\r\n  if (!pathname || pathname === \"/\") return null;\r\n\r\n  return (\r\n    <div className=\"top-left-home\">\r\n        <Link href=\"/\" className=\"btn btn-outline-secondary\">Головна сторінка</Link>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function TopRightUser() {\r\n  const [user, setUser] = useState<{ username: string } | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(\"/api/me\", { credentials: \"include\" });\r\n        if (!mounted) return;\r\n        if (!res.ok) {\r\n          setUser(null);\r\n        } else {\r\n          const data = await res.json();\r\n          setUser(data?.user ?? null);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"TopRightUser fetch /api/me error:\", err);\r\n        setUser(null);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    }\r\n\r\n    load();\r\n\r\n    const onAuthRefresh = () => {\r\n      // re-check auth when sign in/out happens in same tab\r\n      load();\r\n    };\r\n\r\n    const onStorage = (e: StorageEvent) => {\r\n      if (e.key === \"auth-refresh\") load();\r\n    };\r\n\r\n    window.addEventListener(\"auth-refresh\", onAuthRefresh);\r\n    window.addEventListener(\"storage\", onStorage);\r\n\r\n    return () => {\r\n      mounted = false;\r\n      window.removeEventListener(\"auth-refresh\", onAuthRefresh);\r\n      window.removeEventListener(\"storage\", onStorage);\r\n    };\r\n  }, []);\r\n\r\n  if (loading) return null;\r\n  if (!user) return null;\r\n\r\n  return (\r\n      <button className=\"top-right-user btn btn-secondary\" title={user.username}>Привіт, {user.username}</button>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,+BCFzCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+sBCwBjCL,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAES,eAAe,8BCFxCZ,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEU,KAAK,8BCF9Bb,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACW,gBAAgB,+BCFvCd,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEY,6BAA6B,0CCDtD,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,WAC5B,AAAI,AAAC,GAAyB,KAAK,CAAlB,EAGf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,IAAI,UAAU,qCAA4B,uBAJjB,IAO5C,iECZA,EAAA,EAAA,CAAA,CAAA,OAGe,SAAS,IACtB,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA8B,MACxD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,SA4CvC,CA1CA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,GAAU,EAEd,eAAe,IACb,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,UAAW,CAAE,YAAa,SAAU,GAC5D,GAAI,CAAC,EAAS,OACd,GAAK,CAAD,CAAK,EAAE,CAEJ,CAFM,AAGX,IAAM,EAAO,MAAM,EAAI,IAAI,GAC3B,EAAQ,GAAM,MAAQ,KACxB,MAJE,EAAQ,KAKZ,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,oCAAqC,GACnD,EAAQ,KACV,QAAU,CACJ,GAAS,GAAW,EAC1B,CACF,CAEA,IAEA,IAAM,EAAgB,KAEpB,GACF,EAEM,EAAa,AAAD,IACF,iBAAV,EAAE,GAAG,EAAqB,GAChC,EAKA,OAHA,OAAO,gBAAgB,CAAC,eAAgB,GACxC,OAAO,gBAAgB,CAAC,UAAW,GAE5B,KACL,GAAU,EACV,OAAO,mBAAmB,CAAC,eAAgB,GAC3C,OAAO,mBAAmB,CAAC,UAAW,EACxC,CACF,EAAG,EAAE,EAED,GACA,CAAC,GADe,EAAP,CACF,EAGP,CAAA,EAAA,EAHc,AAGd,IAAA,EAAC,SAAA,CAAO,UAAU,mCAAmC,MAAO,EAAK,QAAQ,WAAE,WAAS,EAAK,QAAQ,GAEvG","ignoreList":[0,1,2,3,4,5,6]}