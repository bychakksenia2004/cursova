module.exports=[83694,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null);async function n(b){if(b.preventDefault(),m(null),!f||!h)return void m("Заповніть усі поля");k(!0);try{let b=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:f,password:h})}),c=null;try{c=await b.json()}catch(a){try{c={error:await b.text()||`HTTP ${b.status}`}}catch{c={error:`HTTP ${b.status}`}}}if(c?.warning&&console.warn("Auth warning:",c.warning),!b.ok){m(c?.error||c?.message||"Помилка входу"),k(!1);return}try{localStorage.setItem("auth-refresh",String(Date.now()));try{window.dispatchEvent(new Event("auth-refresh"))}catch{}}catch{}try{await a.refresh()}catch{}a.push("/")}catch(a){console.error(a),m(a?.message||"Помилка мережі"),k(!1)}}return(0,c.useEffect)(()=>{try{document.title="TestHub | Вхід"}catch{}},[]),(0,b.jsx)("div",{className:"container d-flex flex-column align-items-center justify-content-center min-vh-100",children:(0,b.jsxs)("div",{className:"login-container menu-box",children:[(0,b.jsx)("h2",{className:"mb-4 text-center",children:"Вхід"}),(0,b.jsxs)("form",{onSubmit:n,children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",className:"form-control",value:f,onChange:a=>g(a.target.value),autoComplete:"email"})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"password",className:"form-label",children:"Пароль"}),(0,b.jsx)("input",{id:"password",type:"password",className:"form-control",value:h,onChange:a=>i(a.target.value),autoComplete:"current-password"})]}),l&&(0,b.jsx)("div",{className:"text-danger mb-3",children:l}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:j,children:j?"Зачекайте...":"Увійти"}),(0,b.jsxs)("p",{className:"text-center mt-3 mb-0",children:["Немає акаунту?"," ",(0,b.jsx)(e.default,{href:"/register",className:"text-decoration-underline",children:"Зареєструйтесь!"})]})]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_login_page_tsx_ccc0019b._.js.map