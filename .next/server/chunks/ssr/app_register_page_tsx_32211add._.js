module.exports=[8618,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null);async function r(b){if(b.preventDefault(),q(null),!f||!h||!j||!l)return void q("Заповніть усі поля");if(j!==l)return void q("Паролі не співпадають");o(!0);try{let b=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:f,username:h,password:j})}),c=null;try{c=await b.json()}catch(a){try{c={error:await b.text()||`HTTP ${b.status}`}}catch{c={error:`HTTP ${b.status}`}}}if(c?.warning&&console.warn("Register warning:",c.warning),!b.ok){q(c?.error||c?.message||"Помилка реєстрації"),o(!1);return}try{localStorage.setItem("auth-refresh",String(Date.now()));try{window.dispatchEvent(new Event("auth-refresh"))}catch{}}catch{}try{await a.refresh()}catch{}a.push("/")}catch(a){console.error(a),q(a?.message||"Помилка мережі"),o(!1)}}return(0,c.useEffect)(()=>{try{document.title="TestHub | Реєстрація"}catch{}},[]),(0,b.jsx)("div",{className:"container d-flex flex-column align-items-center justify-content-center min-vh-100",children:(0,b.jsxs)("div",{className:"register-container menu-box",children:[(0,b.jsx)("h2",{className:"mb-4 text-center",children:"Реєстрація"}),(0,b.jsxs)("form",{onSubmit:r,children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,b.jsx)("input",{id:"email",type:"email",className:"form-control",value:f,onChange:a=>g(a.target.value),autoComplete:"email"})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"username",className:"form-label",children:"Ім'я користувача"}),(0,b.jsx)("input",{id:"username",type:"text",className:"form-control",value:h,onChange:a=>i(a.target.value),autoComplete:"username"})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"password",className:"form-label",children:"Пароль"}),(0,b.jsx)("input",{id:"password",type:"password",className:"form-control",value:j,onChange:a=>k(a.target.value),autoComplete:"new-password"})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("label",{htmlFor:"confirm",className:"form-label",children:"Підтвердження пароля"}),(0,b.jsx)("input",{id:"confirm",type:"password",className:"form-control",value:l,onChange:a=>m(a.target.value),autoComplete:"new-password"})]}),p&&(0,b.jsx)("div",{className:"text-danger mb-3",children:p}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:n,children:n?"Зачекайте...":"Зареєструватись"}),(0,b.jsxs)("p",{className:"text-center mt-3 mb-0",children:["Вже маєш акаунт? ",(0,b.jsx)(e.default,{href:"/login",className:"text-decoration-underline",children:"Увійти"})]})]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_register_page_tsx_32211add._.js.map