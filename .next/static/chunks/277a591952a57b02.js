(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85350,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016);function l(){let[e,l]=(0,s.useState)([]),[i,n]=(0,s.useState)(""),[c,r]=(0,s.useState)(""),[d,o]=(0,s.useState)(!0),[u,m]=(0,s.useState)(1),[h,x]=(0,s.useState)(1);return(0,s.useEffect)(()=>{let e=!0;return async function(){try{let t=await fetch(`/api/public-tests?page=${u}&limit=10`,{cache:"no-store"});if(!t.ok)return void console.warn("Failed to load public tests",await t.text());let s=await t.json();e&&s?.ok&&Array.isArray(s.tests)&&(l(s.tests),x(s.totalPages||1))}catch(e){console.warn("Failed to load public tests:",e)}finally{e&&o(!1)}}(),()=>{e=!1}},[u]),(0,s.useEffect)(()=>{try{document.title="TestHub | Публічні тести"}catch{}},[]),(0,t.jsxs)("div",{className:"container d-flex flex-column align-items-center justify-content-center min-vh-100",children:[(0,t.jsx)("h2",{className:"mb-4 text-center",children:"Публічні тести"}),(0,t.jsxs)("div",{className:"menu-box d-flex flex-column gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:"form-control mb-2",placeholder:"Пошук за назвою тесту...",value:i,onChange:e=>{n(e.target.value),m(1)}}),(0,t.jsx)("input",{className:"form-control",placeholder:"Пошук за автором...",value:c,onChange:e=>{r(e.target.value),m(1)}})]}),d?(0,t.jsx)("div",{className:"text-muted",children:"Завантаження..."}):0===e.length?(0,t.jsx)("div",{className:"text-muted",children:"Публічних тестів не знайдено."}):(0,t.jsx)("div",{className:"list-group transparent-list",children:e.filter(e=>e.title.toLowerCase().includes(i.toLowerCase())&&(!c||(e.author||"").toLowerCase().includes(c.toLowerCase()))).map(e=>(0,t.jsxs)("div",{className:"list-group-item d-flex justify-content-between align-items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fw-semibold",children:e.title}),e.description?(0,t.jsx)("div",{className:"text-muted small",children:e.description}):null,(0,t.jsxs)("div",{className:"text-muted small mt-1",children:["Автор: ",e.author||"(невідомо)"]}),e.storeResponses?(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("span",{className:"badge bg-warning text-dark",children:"Потрібна реєстрація"})}):null]}),(0,t.jsx)("div",{children:(0,t.jsx)(a.default,{href:`/tests/${e._id}`,children:(0,t.jsx)("button",{className:"btn btn-sm btn-outline-primary",children:"Відкрити"})})})]},e._id))}),(0,t.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,t.jsx)("button",{className:"btn btn-outline-secondary",disabled:u<=1,onClick:()=>m(e=>Math.max(1,e-1)),children:"Назад"}),(0,t.jsxs)("div",{children:["Сторінка ",u," / ",h]}),(0,t.jsx)("button",{className:"btn btn-outline-secondary",disabled:u>=h,onClick:()=>m(e=>Math.min(h,e+1)),children:"Далі"})]})]})]})}e.s(["default",()=>l])}]);