(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89954,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(22016);function n(){let e=(0,s.useRouter)(),[n,l]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[o,u]=(0,a.useState)(!1),[m,d]=(0,a.useState)(null);async function h(t){if(t.preventDefault(),d(null),!n||!i)return void d("Заповніть усі поля");u(!0);try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:n,password:i})}),a=null;try{a=await t.json()}catch(e){try{a={error:await t.text()||`HTTP ${t.status}`}}catch{a={error:`HTTP ${t.status}`}}}if(a?.warning&&console.warn("Auth warning:",a.warning),!t.ok){d(a?.error||a?.message||"Помилка входу"),u(!1);return}try{localStorage.setItem("auth-refresh",String(Date.now()));try{window.dispatchEvent(new Event("auth-refresh"))}catch{}}catch{}try{await e.refresh()}catch{}e.push("/")}catch(e){console.error(e),d(e?.message||"Помилка мережі"),u(!1)}}return(0,a.useEffect)(()=>{try{document.title="TestHub | Вхід"}catch{}},[]),(0,t.jsx)("div",{className:"container d-flex flex-column align-items-center justify-content-center min-vh-100",children:(0,t.jsxs)("div",{className:"login-container menu-box",children:[(0,t.jsx)("h2",{className:"mb-4 text-center",children:"Вхід"}),(0,t.jsxs)("form",{onSubmit:h,children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,t.jsx)("input",{id:"email",type:"email",className:"form-control",value:n,onChange:e=>l(e.target.value),autoComplete:"email"})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{htmlFor:"password",className:"form-label",children:"Пароль"}),(0,t.jsx)("input",{id:"password",type:"password",className:"form-control",value:i,onChange:e=>c(e.target.value),autoComplete:"current-password"})]}),m&&(0,t.jsx)("div",{className:"text-danger mb-3",children:m}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:o,children:o?"Зачекайте...":"Увійти"}),(0,t.jsxs)("p",{className:"text-center mt-3 mb-0",children:["Немає акаунту?"," ",(0,t.jsx)(r.default,{href:"/register",className:"text-decoration-underline",children:"Зареєструйтесь!"})]})]})]})})}e.s(["default",()=>n])}]);